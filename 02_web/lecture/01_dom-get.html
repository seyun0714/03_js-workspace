<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .area {
        width: 100px;
        height: 100px;
        border: 1px solid lightgray;
      }
    </style>
  </head>
  <body>
    <!-- 
    ğŸ“Œ DOM ì´ë€? 
    1. Document Object Model, ë¬¸ì„œ ê°ì²´ ëª¨ë¸
    2. ì›¹ ë¬¸ì„œ(HTML, XML)ì˜ êµ¬ì¡°ë¥¼ ê°ì²´ ì§€í–¥ì ìœ¼ë¡œ í‘œí˜„í•œ í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤
    3. ì›¹ í˜ì´ì§€ì˜ ê° ìš”ì†Œë“¤ì„ íŠ¸ë¦¬ êµ¬ì¡°ì˜ ê°ì²´ë¡œ ë‚˜íƒ€ë‚´ì–´ í”„ë¡œê·¸ë˜ë° ì–¸ì–´(ì£¼ë¡œ JS)ë¡œ 
       í•´ë‹¹ ìš”ì†Œë“¤ì— ì ‘ê·¼í•˜ê³  ìˆ˜ì •, ì‚­ì œ, ìƒì„± í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤Œ 

             â– â– â–  HTML â– â– â–                            â– â– â–  DOM tree â– â– â– 

          <html lang="ko">                              Document
          <head>                                           â†“
            <title>My Document</title>                    HTML
          </head>                                     â†™          â†˜
          <body>                                  HEAD             BODY
            <h1>Header</h1>                        â†“             â†™      â†˜
            <p>Paragraph</p>                     TITLE        H1          P
          </bod.>                                  â†“           â†“          â†“
          </html>                            "My Document"  "Header"  "Paragraph"

    * DOM íŠ¸ë¦¬ë€?
    - HTML ë¬¸ì„œì˜ ê° ìš”ì†Œ íƒœê·¸, í…ìŠ¤íŠ¸, ì†ì„±, ì£¼ì„ ë“±ì„ ê°ê°ì˜ "ë…¸ë“œ(node)"ë¼ëŠ” ê°ì²´ë¡œ ë³€í™˜í•œë‹¤. 
    - ì´ ë…¸ë“œ ê°ì²´ë“¤ì´ ë¶€ëª¨-ìì‹, í˜•ì œ ê´€ê³„ë¡œ ì—°ê²°ë˜ì–´ í•˜ë‚˜ì˜ í° íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ì´ë£¬ë‹¤. => DOM íŠ¸ë¦¬(DOM êµ¬ì¡°)
    - ì¦‰, DOM íŠ¸ë¦¬ëŠ” ë…¸ë“œë“¤ì˜ ê³„ì¸µì ì¸ ì§‘í•©ì²´ë¥¼ ì˜ë¯¸í•œë‹¤. 
    - ì˜ˆì‹œ
      <div id="main">Hello</div>   â†’   ìš”ì†Œë…¸ë“œ(div), ì†ì„±ë…¸ë“œ(id), í…ìŠ¤íŠ¸ë…¸ë“œ(Hello)           
  -->

    <!-- 
                       â– â– â–   DOM ê°ì²´ ê³„ì¸µ êµ¬ì¡° â– â– â–  

                               EventTarget
                                   â†‘
                                * Node
                    â”Œ--------------â”¼------------â”
                  Text        * Element       Comment
                                   â†‘
                               HTMLElement
          â”Œ------------------------â”¼------------------------â”
      HTMLInputElement       HTMLBodyElement        HTMLAnchorElement ...   


    ğŸ“Œ Nodeì™€ Element
    1. NodeëŠ” DOM íŠ¸ë¦¬ë¥¼ êµ¬ì„±í•˜ëŠ” ëª¨ë“  ë…¸ë“œì˜ ìƒìœ„ ê°œë… 
       ì¦‰, íƒœê·¸ìš”ì†Œ(Element Node), í…ìŠ¤íŠ¸ë…¸ë“œ(Text Node), ì£¼ì„ë…¸ë“œ(Comment Node), ì†ì„±ë…¸ë“œ(Attribute Node) ëª¨ë‘ Nodeì˜ í•˜ìœ„ ê°œë…
    2. ê·¸ ì¤‘ì— HTMLìš”ì†Œ(íƒœê·¸)ë§Œì„ ì˜ë¯¸í•˜ëŠ” ê°ì²´ë¥¼ Elementë¼ê³  í•¨
    3. ì¦‰, ëª¨ë“  ElementëŠ” Nodeì§€ë§Œ, ëª¨ë“  Nodeê°€ ElementëŠ” ì•„ë‹˜ (í…ìŠ¤íŠ¸, ì£¼ì„ ë“±ì€ Elementê°€ ì•„ë‹˜)
    4. ì£¼ìš” ì¸ìŠ¤í„´ìŠ¤ ì†ì„± (property)
       1) Element
          (1) className    : class ì†ì„±(attribute)
          (2) id           : id ì†ì„±(attribute)
          (3) innerHTML    : ìš”ì†Œ(element) ë‚´ì— í¬í•¨ëœ HTML ë˜ëŠ” XML ë§ˆí¬ì—…ì„ ê°€ì ¸ì˜¤ê±°ë‚˜ ì„¤ì •í•¨
          (4) scrollHeight : ìš”ì†Œ(element) ì½˜í…ì¸ ì˜ ì´ ë†’ì´
          (5) scrollTop    : ìˆ˜ì§ ìŠ¤í¬ë¡¤ ë°”ì˜ ìœ„ì¹˜
       2) Node
          (1) firstChild      : í˜„ì¬ Nodeì˜ ì²« ë²ˆì§¸ ìì‹ Node ë°˜í™˜, ì—†ìœ¼ë©´ null ë°˜í™˜
          (2) lastChild       : í˜„ì¬ Nodeì˜ ë§ˆì§€ë§‰ ìì‹ Node ë°˜í™˜, ì—†ìœ¼ë©´ null ë°˜í™˜
          (3) previousSibling : í˜„ì¬ Nodeì˜ ì´ì „ í˜•ì œ Node ë°˜í™˜, ì—†ìœ¼ë©´ null ë°˜í™˜
          (4) nextSibling     : í˜„ì¬ Nodeì˜ ë‹¤ìŒ í˜•ì œ Node ë°˜í™˜, ì—†ìœ¼ë©´ null ë°˜í™˜
          (5) parentElement   : í˜„ì¬ Nodeì˜ ë¶€ëª¨ Element ë°˜í™˜, ì—†ìœ¼ë©´ null ë°˜í™˜
          (6) parentNode      : í˜„ì¬ Nodeì˜ ë¶€ëª¨ Node ë°˜í™˜, ì—†ìœ¼ë©´ null ë°˜í™˜
          (7) textContent     : í˜„ì¬ Nodeì™€ ê·¸ ìì†ì˜ í…ìŠ¤íŠ¸ ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ì„¤ì •í•¨


    ğŸ“Œ DOM ê°ì²´ë¥¼ ë°˜í™˜(ì·¨ë“)í•˜ëŠ” ì£¼ìš” ë©”ì†Œë“œ
    1. Document.getElementById(id)
       â†’ ì£¼ì–´ì§„ ë¬¸ìì—´ê³¼ ì¼ì¹˜í•˜ëŠ” id ì†ì„±ì„ ê°€ì§„ ìš”ì†Œë¥¼ Element ê°ì²´ë¡œ ë°˜í™˜
       â†’ ì—†ìœ¼ë©´ null ì„ ë°˜í™˜
      
    2. Document.getElementsByClassName(class)
       â†’ ì£¼ì–´ì§„ ë¬¸ìì—´ê³¼ ì¼ì¹˜í•˜ëŠ” class ì†ì„±ì„ ê°€ì§„ ëª¨ë“  ìš”ì†Œë¥¼ HTMLCollection ê°ì²´ë¡œ ë°˜í™˜
       â†’ ì—†ìœ¼ë©´ null ì„ ë°˜í™˜
       â†’ ë°˜í™˜ëœ HTMLCollection ê°ì²´ëŠ” ë³€ê²½ ì‚¬í•­ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë˜ëŠ” Live HTMLCollection ê°ì²´
       â†’ HTMLCollection ê°ì²´ëŠ” ìœ ì‚¬ ë°°ì—´(array-like object)ì´ì§€ë§Œ ì—„ë°€íˆ ë°°ì—´ê³¼ëŠ” ë‹¤ë¦„
          1) HTMLCollection.length          : ì»¬ë ‰ì…˜ í•­ëª©ì˜ ê°¯ìˆ˜ë¥¼ ë°˜í™˜
          2) HTMLCollection.item(index)     : ì£¼ì–´ì§„ ì¸ë±ìŠ¤ì˜ Nodeë¥¼ ë°˜í™˜
          3) HTMLCollection.namedItem(name) : ì£¼ì–´ì§„ id ì†ì„± ë˜ëŠ” name ì†ì„±ì„ ê°€ì§„ Nodeë¥¼ ë°˜í™˜
          4) Array.prototype.forEach() ì™€ ê°™ì€ Array ê°ì²´ì˜ ë©”ì†Œë“œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ
    
    3. Document.getElementsByTagName(tag)
       â†’ ì£¼ì–´ì§„ ë¬¸ìì—´ê³¼ ì¼ì¹˜í•˜ëŠ” ëª¨ë“  íƒœê·¸ë¥¼ ê°€ì§„ HTMLCollection ê°ì²´ë¥¼ ë°˜í™˜
       â†’ ì—†ìœ¼ë©´ null ì„ ë°˜í™˜

    4. Document.querySelector(selectors) **
       â†’ ì œê³µí•œ ì„ íƒìì™€ ì¼ì¹˜í•˜ëŠ” ë¬¸ì„œ ë‚´ ì²« ë²ˆì§¸ Element ê°ì²´ë¥¼ ë°˜í™˜
       â†’ ì—†ìœ¼ë©´ null ì„ ë°˜í™˜

    5. Document.querySelectorAll(selectors) **
       â†’ ì œê³µí•œ ì„ íƒìì™€ ì¼ì¹˜í•˜ëŠ” ë¬¸ì„œ ë‚´ ëª¨ë“  ìš”ì†Œë¥¼ ê°€ì§„ NodeList ê°ì²´ë¥¼ ë°˜í™˜
       â†’ ë°˜í™˜ëœ NodeList ê°ì²´ëŠ” ë³€ê²½ ì‚¬í•­ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë˜ì§€ ì•ŠëŠ” Static NodeList ê°ì²´
       â†’ ì—†ìœ¼ë©´ null ì„ ë°˜í™˜

    * ì‚¬ìš© ì‹œ ì£¼ì˜ ì‚¬í•­
      ì‘ì„±ëœ DOM ê°ì²´ì˜ Line ìœ„ì¹˜ë¡œ ë¹„êµí–ˆì„ ë•Œ JavaScript ì½”ë“œë³´ë‹¤ ë‚˜ì¤‘ì— ë‚˜íƒ€ë‚œ DOM ê°ì²´ëŠ” ì¸ì‹í•˜ì§€ ëª»í•œë‹¤.
      ë”°ë¼ì„œ ë°˜ë“œì‹œ DOM ê°ì²´ë¥¼ ìƒë‹¨ì— ë°°ì¹˜í•˜ê³  JavaScript ì½”ë“œë¥¼ í•˜ë‹¨ì— ë°°ì¹˜í•´ì•¼ í•œë‹¤.

    ----------------------------------------------------------------------------------
                    | HTMLCollection           | NodeList
    ----------------|--------------------------|--------------------------------------
    ëŒ€ìƒ            | DOM ìš”ì†Œ                 | DOM ìš”ì†Œ, Node(í…ìŠ¤íŠ¸, ì£¼ì„, ì†ì„± ë“±)
    ----------------|--------------------------|--------------------------------------
    ìƒì„± ë°©ë²•       | getElementsByTagName()   | querySelectorAll()
                    | getElementsByClassName() | Node.childNodes
    ----------------|--------------------------|--------------------------------------
    Live ì—¬ë¶€       | Yes                      | No  (querySelectorAll())
                    |                          | Yes (Node.childNodes)
    ----------------|--------------------------|--------------------------------------
    Array ì—¬ë¶€      | No                       | No
    ----------------|--------------------------|--------------------------------------
    ìœ ì‚¬ ë°°ì—´ ì—¬ë¶€  | Yes                      | Yes
                    | ëŒ€ê´„í˜¸[]ì™€ ì¸ë±ìŠ¤ ì§€ì›   | ëŒ€ê´„í˜¸[]ì™€ ì¸ë±ìŠ¤ ì§€ì›
    ----------------|--------------------------|--------------------------------------
    length ì†ì„±     | Yes                      | Yes
    ----------------|--------------------------|--------------------------------------
    for    ë¬¸       | Yes                      | Yes
    for in ë¬¸       | Yes (Not Recommend)      | Yes (Not Recommend)
    for of ë¬¸       | Yes                      | Yes
    ----------------|--------------------------|--------------------------------------
    forEach()       | No                       | Yes 
    ----------------------------------------------------------------------------------
  -->

    <h2>idë¥¼ ì´ìš©í•œ ìš”ì†Œ ë…¸ë“œ ì·¨ë“</h2>

    <div id="area1" class="area">
      div ì˜ì—­
      <p id="area2">p ì˜ì—­</p>
    </div>
    <div id="area1" class="area">div ì˜ì—­</div>

    <button onclick="getNodeById();">í´ë¦­</button>

    <script>
      function getNodeById() {
        // ì•„ì´ë””ê°€ area1ì¸ ìš”ì†Œ dom ê°ì²´ë¡œ ì·¨ë“ (ì¤‘ë³µëœ idê°’ì„ ê°€ì§„ ìš”ì†Œ ì¤‘ì— ì²«ë²ˆ ì§¸ë§Œ ë°˜í™˜)
        const area1El = document.getElementById("area1");
        console.log(area1El);

        const area2El = document.getElementById("area2");
        console.log(area2El);

        // í•´ë‹¹ ì•„ì´ë””ê°€ ì—†ëŠ” ê²½ìš° null ë°˜í™˜
        const testEl = document.getElementById("test");
        console.log(testEl);
      }
    </script>

    <hr />

    <h2>tagë¥¼ ì´ìš©í•œ ìš”ì†Œ ë…¸ë“œ ì·¨ë“</h2>

    <h5>ê¹€ì¹˜ì°Œê°œ</h5>
    <h5>ëœì¥ì°Œê°œ</h5>
    <h5>ê³ ë“±ì–´êµ¬ì´</h5>

    <ul id="drink">
      <li>ì»¤í”¼</li>
      <li>ì½œë¼</li>
      <li>ìš°ìœ </li>
    </ul>

    <button onclick="getNodeByTagName();">í´ë¦­</button>

    <script>
      function getNodeByTagName() {
        // h5 íƒœê·¸ë“¤ì˜ ìš”ì†Œ ì·¨ë“
        const h5s = document.getElementsByTagName("h5");
        console.log(h5s); // ìœ ì‚¬ë°°ì—´
        console.log(h5s.length);

        for (let item of h5s) {
          item.style.backgroundColor = "red";
        }

        Array.from(h5s).forEach((element) => {
          element.style.color = "white";
        });
      }
    </script>

    <hr />

    <h2>classë¥¼ ì´ìš©í•œ ìš”ì†Œ ë…¸ë“œ ì·¨ë“</h2>

    <ul id="available">
      <li class="drink coffee">ì»¤í”¼</li>
      <li class="drink coke">ì½œë¼</li>
      <li class="drink milk">ìš°ìœ </li>
    </ul>
    <ul id="unavailable">
      <li class="drink soju">ì†Œì£¼</li>
      <li class="drink beer">ë§¥ì£¼</li>
    </ul>

    <button onclick="getNodeByClassName();">í´ë¦­</button>

    <script>
      function getNodeByClassName() {
        const drinks = document.getElementsByClassName("drink");
        console.log(drinks);
        [...drinks].forEach((drink) => {
          drink.style.color = "red";
        });
      }
    </script>

    <hr />

    <h2>selectorë¥¼ ì´ìš©í•œ ìš”ì†Œ ë…¸ë“œ ì·¨ë“</h2>

    <div class="area">
      <span class="first">first</span>
    </div>
    <div class="area">
      <span class="second">second</span>
    </div>

    <button onclick="getNodeBySelector();">í´ë¦­</button>

    <script>
      function getNodeBySelector() {
        const spanEl = document.querySelector(".area>span");
        console.log(spanEl);
        const spanEls = document.querySelectorAll(".area>span");
        console.log(spanEls);

        spanEl.style.backgroundColor = "yellow";
        spanEls[1].style.backgroundColor = "blue";
      }
    </script>

    <ul id="list">
      <li>ì»¤í”¼</li>
      <li>ì½œë¼</li>
      <li>ê¹€ì¹˜ì°Œê°œ</li>
      <li>ëœì¥ì°Œê°œ</li>
    </ul>

    <button onclick="getNodeBySelectorAll();">í´ë¦­</button>

    <script>
      function getNodeBySelectorAll() {
        const list = document.querySelectorAll("#list>li");
        console.log(list); // ìœ ì‚¬ë°°ì—´ (NodeList)

        list.forEach((element) => {
          element.style.backgroundColor = "gray";
        });
      }
    </script>
  </body>
</html>
